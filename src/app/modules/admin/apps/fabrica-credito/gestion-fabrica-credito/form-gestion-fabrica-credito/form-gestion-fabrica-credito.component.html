<div class="bg-white h-full h-screen  overflow-auto px-3 py-2 rounded-lg shadow w-full y-100" cdkScrollable>
    <div class="flex flex-col flex-auto min-w-0 sm:overflow-hidden bg-card dark:bg-transparent mb-3">
        <div class="flex flex-col">
            <div class="flex flex-col sm:flex-row flex-0 sm:items-center sm:justify-between py-6 px-6 md:px-8 border-b">
                <div class="grow h-14">
                    <h3 class="mb-2 text-gray-900">Fábrica de crédito</h3>
                    <span class="font-semibold text-gray-500">Estado solicitud: {{estado}}</span>
                </div>
                <div class="menu ">
                    <button mat-fab class="mx-1 bg-orange-500 roll-in-blurred-right" (click)="irAtras()"
                        [ngClass]="animacionVer==true?'show':'hidden'" matTooltip="Ir atrás">
                        <mat-icon svgIcon="heroicons_outline:arrow-left"></mat-icon>
                    </button>
                    <ng-container *ngIf="agenda_fabrica !== 'CM'">
                        <button mat-fab class="mx-1 bg-pink-500 roll-in-blurred-right"
                            (click)="verCentrales = true;drawerCentrales.toggle();"
                            [ngClass]="animacionVer==true?'show':'hidden'" matTooltip="Centrales">
                            <mat-icon svgIcon="heroicons_outline:chart-pie"></mat-icon>
                        </button>
                    </ng-container>

                    <button mat-fab class="mx-1 bg-amber-500 roll-in-blurred-right"
                        (click)="verComentarios = true;settingsDrawer.toggle();"
                        [ngClass]="[animacionVer==true?'show':'hidden',(verComentarios==true?'bounce-top':'')]"
                        matTooltip="Comentario">
                        <mat-icon svgIcon="mat_outline:sms_failed"></mat-icon>
                    </button>
                    <ng-container>
                        <button mat-fab class="mx-1 bg-green-500 roll-in-blurred-right" (click)="onDialogoDecision()"
                            [ngClass]="animacionVer==true?'show':'hidden'"
                            matTooltip="{{dialog_a_mostrar=='SIGUIENTE'?'Siguiente':'Check list'}}">
                            <mat-icon [svgIcon]="dialog_a_mostrar=='SIGUIENTE'?'next_plan':'check_circle'">
                            </mat-icon>
                            <!-- <mat-icon svgIcon="next_plan"></mat-icon> -->
                        </button>

                        <button mat-fab class="mx-1 bg-purple-500 roll-in-blurred-right" matTooltip="Devoluciones"
                            (click)="verDevoluciones = true;drawerDevoluciones.toggle()"
                            [ngClass]="[animacionVer==true?'show':'hidden',(verDevoluciones==true?'bounce-top':'')]">
                            <mat-icon svgIcon="mat_solid:settings_backup_restore"></mat-icon>
                        </button>
                    </ng-container>
                    <button mat-fab class="mx-3 bg-blue-500" matTooltip="Menú"
                        (click)="animacionVer=animacionVer==true?false:true">
                        <mat-icon svgIcon="heroicons_outline:adjustments"></mat-icon>
                    </button>

                </div>
            </div>
        </div>
    </div>
    <div class="grid grid-cols-12">
        <div class="col-span-12">
            <div [ngSwitch]="unidadNegocio">
                <div *ngSwitchCase="22">
                   <app-form-gestion-fabrica-libranza></app-form-gestion-fabrica-libranza>
                </div>
                <div *ngSwitchCase="32">
                    <app-form-gestion-fabrica-ultracem></app-form-gestion-fabrica-ultracem>
                </div>
                <div *ngSwitchDefault>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="sm:mt-13"></div>

<fuse-drawer class="w-full sm:max-w-9/12 min-w-150" fixed transparentOverlay [mode]="'over'" [name]="'settingsDrawer'"
    [position]="'right'" #settingsDrawer>
    <ng-container *ngIf="verComentarios">
        <div class="fixed z-999 w-full">
            <app-grid-comentarios (cerrarComponente)="onCerrar($event);settingsDrawer.close()"
                (minimizarComponente)="onMinimiza($event);settingsDrawer.close(); verComentarios = true">
            </app-grid-comentarios>
        </div>
    </ng-container>
</fuse-drawer>
<ng-container *ngIf="minimizarComentarios">
    <button mat-icon-button class="fixed z-999 ml-40 top-3 animate-bounce" [matTooltip]="'Restaura ventana comentarios'"
        (click)="verComentarios = true;settingsDrawer.toggle()">
        <mat-icon svgIcon="heroicons_outline:annotation"></mat-icon>
    </button>
</ng-container>
<fuse-drawer class="w-full sm:max-w-9/12 min-w-150" fixed transparentOverlay [mode]="'over'"
    [name]="'drawerDevoluciones'" [position]="'right'" #drawerDevoluciones>
    <ng-container *ngIf="verDevoluciones">
        <div class="fixed z-999 w-full">
            <app-grid-devoluciones (cerrarComponente)="onCerrarDevolucion($event);drawerDevoluciones.close()"
                (minimizarComponente)="onMinimizaDevolucion($event);drawerDevoluciones.close();verDevoluciones=true"
                [agenda]="agenda_fabrica"></app-grid-devoluciones>
        </div>
    </ng-container>
</fuse-drawer>
<ng-container *ngIf="minimizarDevoluciones">
    <button mat-icon-button class="fixed z-999 ml-40 top-3 animate-bounce"
        [matTooltip]="'Restaura ventana devoluciones'" (click)="verDevoluciones = true;drawerDevoluciones.toggle()">
        <mat-icon svgIcon="heroicons_outline:annotation"></mat-icon>
    </button>
</ng-container>
<fuse-drawer class="w-full sm:max-w-1/3 min-w-150" fixed transparentOverlay [mode]="'over'" [name]="'drawerCentrales'"
    [position]="'right'" #drawerCentrales>
    <ng-container *ngIf="verCentrales">
        <div class="fixed z-999 w-full">
            <app-grid-centrales (cerrarComponente)="onCerrar($event);drawerCentrales.close()"
                (minimizarComponente)="onMinimiza($event);drawerCentrales.close(); verCentrales = true">
            </app-grid-centrales>
        </div>
    </ng-container>
</fuse-drawer>
<ng-container *ngIf="minimizarCentrales">
    <button mat-icon-button class="fixed z-999 ml-40 top-3 animate-bounce" [matTooltip]="'Restaura ventana Centrales'"
        (click)="verComentarios = true;drawerCentrales.toggle()">
        <mat-icon svgIcon="heroicons_outline:annotation"></mat-icon>
    </button>
</ng-container>