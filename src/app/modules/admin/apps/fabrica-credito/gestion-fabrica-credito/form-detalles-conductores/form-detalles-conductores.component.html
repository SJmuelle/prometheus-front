<h2 mat-dialog-title>Información de conductor</h2>
<mat-dialog-content>
    <div class="row">
        <div class="col-md-12 col-md-12 col-lg-12">
            <form [formGroup]="form">
                <div class="bg-white flex flex-col">

                    <div class="md:flex">
                        <mat-form-field class="w-1/2 mr-2 fuse-mat-dense">
                            <mat-label>Primer nombre</mat-label>
                            <input matInput autocomplete="off" type="text" [formControlName]="'primerNombre'" [required]="true">
                            <mat-error>
                                Este campo es requerido
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="w-1/2 mr-2 fuse-mat-dense">
                            <mat-label>Primer apellido</mat-label>
                            <input matInput autocomplete="off" type="text" [formControlName]="'primerApellido'" [required]="true">
                            <mat-error *ngIf="campoRequerido('primerApellido')">
                                Este campo es requerido
                            </mat-error>
                        </mat-form-field>
                    </div>


                    <div class="md:flex">
                        <mat-form-field class="w-1/2 mr-2 fuse-mat-dense">
                            <mat-label>Identificación</mat-label>
                            <input matInput autocomplete="off" type="text" [formControlName]="'identificacion'" [required]="true">
                            <mat-error
                                *ngIf="(form.controls.identificacion.dirty || form.controls.identificacion.touched)">
                                <mat-error *ngIf="form.controls.identificacion.errors?.required ">Este campo es
                                    requerido.</mat-error>
                                <mat-error *ngIf="form.controls.identificacion.errors?.pattern">Solo se aceptan números.
                                </mat-error>
                                <mat-error *ngIf="form.controls.identificacion.errors?.minlength">Longitud mínima son 5
                                    dígitos.</mat-error>
                                <mat-error *ngIf="form.controls.identificacion.errors?.maxlength">Longitud máxima son 11
                                    dígitos.</mat-error>
                            </mat-error>
                        </mat-form-field>

                        <mat-form-field class="w-1/2 mr-2 fuse-mat-dense">
                            <mat-label>Celular</mat-label>
                            <input matInput autocomplete="off" type="text" [formControlName]="'celular'" [required]="true">
                            <mat-error *ngIf="(form.controls.celular.dirty || form.controls.celular.touched)">
                                <mat-error *ngIf="form.controls.celular.errors?.required ">Este campo es requerido.
                                </mat-error>
                                <mat-error *ngIf="form.controls.celular.errors?.pattern">Solo se aceptan números.
                                </mat-error>
                                <mat-error *ngIf="form.controls.celular.errors?.minlength">Longitud mínima son 7
                                    dígitos.</mat-error>
                                <mat-error *ngIf="form.controls.celular.errors?.maxlength">Longitud máxima son 11
                                    dígitos.</mat-error>
                            </mat-error>
                        </mat-form-field>
                    </div>


                    <div class="md:flex">
                        <mat-form-field class="w-1/2 mr-2 fuse-mat-dense">
                            <mat-label>correo</mat-label>
                            <input matInput autocomplete="off" type="email" [formControlName]="'email'" [required]="true">
                        </mat-form-field>


                        <ng-container *ngIf="departamentos$ | async as departamentos">
                            <mat-form-field class="w-1/2 mr-2 fuse-mat-dense">
                                <mat-label>Departamento de residencia</mat-label>
                                <mat-select [value]="'seleccione'"
                                    [formControlName]="'codigoDepartamento'">
                                    <mat-option disabled [value]="'seleccione'">Seleccione
                                    </mat-option>
                                    <mat-option *ngFor="let departamento of departamentos.data"
                                        [value]="departamento.codigo">{{departamento.nombre}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </ng-container>
                    </div>

                    <div class="md:flex">
                        <ng-container *ngIf="ciudades$ | async as ciudades">
                            <mat-form-field class="w-1/2 mr-2 fuse-mat-dense">
                                <mat-label>Ciudad de residencia</mat-label>
                                <mat-select [value]="'seleccione'" [formControlName]="'codigoCiudad'" >
                                    <mat-option disabled [value]="'seleccione'">Seleccione
                                    </mat-option>
                                    <mat-option *ngFor="let ciudad of ciudades.data" [value]="ciudad.codigo">
                                        {{ciudad.nombre}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </ng-container>
                        <ng-container *ngIf="barrios$ | async as barrios">
                            <mat-form-field class="w-1/2 mr-2 fuse-mat-dense">
                                <mat-label>Barrio de residencia</mat-label>
                                <mat-select [value]="'seleccione'" [formControlName]="'codigoBarrio'">
                                    <mat-option disabled [value]="'seleccione'">Seleccione
                                    </mat-option>
                                    <mat-option *ngFor="let barrio of barrios.data" [value]="barrio.codigo">
                                        {{barrio.nombre}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </ng-container>
                    </div>

                    <div class="md:flex">
                     
                        <ng-container *ngIf="tipoVia$ | async as tipoVias">
                            <mat-form-field class="w-1/2 mr-2 fuse-mat-dense">
                                <mat-label>Tipo de via</mat-label>
                                <mat-select [value]="'seleccione'" [formControlName]="'direccionViaTipo'">
                                    <mat-option disabled [value]="'seleccione'">Seleccione
                                    </mat-option>
                                    <mat-option *ngFor="let tipoVia of tipoVias.data" [value]="tipoVia.nombre">
                                        {{tipoVia.nombre}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </ng-container>
                        <mat-form-field class="w-1/2 mr-2 fuse-mat-dense">
                            <mat-label>Via principal</mat-label>
                            <input matInput autocomplete="off" type="text" [formControlName]="'direccionViaPrincipal'" [required]="true">
                        </mat-form-field>
                        <span class="mx-2 font-semibold text-secondary text-8xl">#</span>
                        <mat-form-field class="w-1/2 mr-2 fuse-mat-dense">
                            <mat-label></mat-label>
                            <input matInput autocomplete="off" type="text" [formControlName]="'direccionViaNumero'" [required]="true">
                        </mat-form-field>
                        <span class="mx-2 font-semibold text-secondary text-7xl">-</span>
                        <mat-form-field class="w-1/2 mr-2 fuse-mat-dense">
                            <mat-label></mat-label>
                            <input matInput autocomplete="off" type="text" [formControlName]="'direccionViaDistancia'" [required]="true">
                        </mat-form-field>
                    </div>

                    <div class="md:flex">
                        <mat-form-field class="w-1/2 mr-2 fuse-mat-dense">
                            <mat-label>Complemento</mat-label>
                            <input matInput autocomplete="off" type="text" [formControlName]="'direccionViaComplemento'" [required]="true">
                        </mat-form-field>
                        <ng-container *ngIf="estadoReferencia$ | async as items">
                            <mat-form-field class="w-1/2 mr-2 fuse-mat-dense">
                                <mat-label>Estado</mat-label>
                                <mat-select [value]="'seleccione'" [formControlName]="'estadoConductor'">
                                    <mat-option disabled [value]="'seleccione'">Seleccione</mat-option>
                                    <mat-option *ngFor="let item of items.data" [value]="item.codigoOpcion">
                                        {{item.descripcionOpcion}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </ng-container>
                    </div>


                </div>
            </form>
        </div>
    </div>
</mat-dialog-content>
<mat-dialog-actions>
    <div class="flex flex-row items-center justify-end sm:justify-end w-full">
        <button mat-raised-button color="primary" type="button" (click)="onGuardar()" >
            Guardar
        </button>
        <button mat-raised-button class="mr-2 bg-gray-400 text-white" type="button" (click)="onCerrar()">
            Cerrar
        </button>
    </div>
</mat-dialog-actions>